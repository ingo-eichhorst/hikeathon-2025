import{_ as ve}from"./1BODBPCJ.js";import{c as ge,k as z,b as T,t as _e,a6 as ee,d as R,a7 as ye,$ as Q,v as ae,q as P,g as xe,A as we,a as te,h as re,i as be,m as w,w as ke,u as v,l as J,O as y,H as g,U as f,J as I,I as Z,W as ne,F as ie,Z as le,G as ce,V as _,X as Y,Y as Se,a8 as Ce,a9 as Me,aa as $e}from"./BXsWsSdj.js";import{u as Ae,d as Te,_ as De}from"#entry";import{a as Be}from"./DBHG5Az6.js";import{u as ue,s as Ee}from"./B4-yCsMx.js";import{u as Ne}from"./Bm9-FWAX.js";import{u as Le}from"./BNgioekW.js";import"./CdQP9W9V.js";import"./CGs5VtEq.js";function je(e){return xe()?(we(e),!0):!1}const U=new WeakMap,Fe=(...e)=>{var t;const n=e[0],s=(t=te())==null?void 0:t.proxy;if(s==null&&!re())throw new Error("injectLocal must be called in setup");return s&&U.has(s)&&n in U.get(s)?U.get(s)[n]:be(...e)},Oe=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const ze=Object.prototype.toString,Re=e=>ze.call(e)==="[object Object]",We=()=>{};function de(...e){if(e.length!==1)return _e(...e);const t=e[0];return typeof t=="function"?ee(ye(()=>({get:t,set:We}))):R(t)}function Ve(e,t){function n(...s){return new Promise((i,c)=>{Promise.resolve(e(()=>t.apply(this,s),{fn:t,thisArg:this,args:s})).then(i).catch(c)})}return n}const fe=e=>e();function Ie(e=fe,t={}){const{initialState:n="active"}=t,s=de(n==="active");function i(){s.value=!1}function c(){s.value=!0}const u=(...o)=>{s.value&&e(...o)};return{isActive:ee(s),pause:i,resume:c,eventFilter:u}}function se(e){return e.endsWith("rem")?Number.parseFloat(e)*16:Number.parseFloat(e)}function X(e){return Array.isArray(e)?e:[e]}function He(e){return te()}function Pe(e,t,n={}){const{eventFilter:s=fe,...i}=n;return P(e,Ve(s,t),i)}function Je(e,t,n={}){const{eventFilter:s,initialState:i="active",...c}=n,{eventFilter:u,pause:o,resume:a,isActive:r}=Ie(s,{initialState:i});return{stop:Pe(e,t,{...c,eventFilter:u}),pause:o,resume:a,isActive:r}}function me(e,t=!0,n){He()?Q(e,n):t?e():ae(e)}function Ge(e=!1,t={}){const{truthyValue:n=!0,falsyValue:s=!1}=t,i=ge(e),c=z(e);function u(o){if(arguments.length)return c.value=o,c.value;{const a=T(n);return c.value=c.value===a?T(s):a,c.value}}return i?u:[c,u]}function Ke(e,t,n){return P(e,t,{...n,immediate:!0})}const H=Oe?window:void 0;function pe(e){var t;const n=T(e);return(t=n?.$el)!=null?t:n}function q(...e){const t=[],n=()=>{t.forEach(o=>o()),t.length=0},s=(o,a,r,l)=>(o.addEventListener(a,r,l),()=>o.removeEventListener(a,r,l)),i=w(()=>{const o=X(T(e[0])).filter(a=>a!=null);return o.every(a=>typeof a!="string")?o:void 0}),c=Ke(()=>{var o,a;return[(a=(o=i.value)==null?void 0:o.map(r=>pe(r)))!=null?a:[H].filter(r=>r!=null),X(T(i.value?e[1]:e[0])),X(v(i.value?e[2]:e[1])),T(i.value?e[3]:e[2])]},([o,a,r,l])=>{if(n(),!o?.length||!a?.length||!r?.length)return;const p=Re(l)?{...l}:l;t.push(...o.flatMap(b=>a.flatMap(k=>r.map(m=>s(b,k,m,p)))))},{flush:"post"}),u=()=>{c(),n()};return je(n),u}function Ye(){const e=z(!1),t=te();return t&&Q(()=>{e.value=!0},t),e}function Qe(e){const t=Ye();return w(()=>(t.value,!!e()))}const Ue=Symbol("vueuse-ssr-width");function Xe(){const e=re()?Fe(Ue,null):null;return typeof e=="number"?e:void 0}function Ze(e,t={}){const{window:n=H,ssrWidth:s=Xe()}=t,i=Qe(()=>n&&"matchMedia"in n&&typeof n.matchMedia=="function"),c=z(typeof s=="number"),u=z(),o=z(!1),a=r=>{o.value=r.matches};return ke(()=>{if(c.value){c.value=!i.value;const r=T(e).split(",");o.value=r.some(l=>{const p=l.includes("not all"),b=l.match(/\(\s*min-width:\s*(-?\d+(?:\.\d*)?[a-z]+\s*)\)/),k=l.match(/\(\s*max-width:\s*(-?\d+(?:\.\d*)?[a-z]+\s*)\)/);let m=!!(b||k);return b&&m&&(m=s>=se(b[1])),k&&m&&(m=s<=se(k[1])),p?!m:m});return}i.value&&(u.value=n.matchMedia(T(e)),o.value=u.value.matches)}),q(u,"change",a,{passive:!0}),w(()=>o.value)}const G=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},K="__vueuse_ssr_handlers__",qe=et();function et(){return K in G||(G[K]=G[K]||{}),G[K]}function he(e,t){return qe[e]||t}function tt(e){return Ze("(prefers-color-scheme: dark)",e)}function nt(e){return e==null?"any":e instanceof Set?"set":e instanceof Map?"map":e instanceof Date?"date":typeof e=="boolean"?"boolean":typeof e=="string"?"string":typeof e=="object"?"object":Number.isNaN(e)?"any":"number"}const st={boolean:{read:e=>e==="true",write:e=>String(e)},object:{read:e=>JSON.parse(e),write:e=>JSON.stringify(e)},number:{read:e=>Number.parseFloat(e),write:e=>String(e)},any:{read:e=>e,write:e=>String(e)},string:{read:e=>e,write:e=>String(e)},map:{read:e=>new Map(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e.entries()))},set:{read:e=>new Set(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e))},date:{read:e=>new Date(e),write:e=>e.toISOString()}},oe="vueuse-storage";function ot(e,t,n,s={}){var i;const{flush:c="pre",deep:u=!0,listenToStorageChanges:o=!0,writeDefaults:a=!0,mergeDefaults:r=!1,shallow:l,window:p=H,eventFilter:b,onError:k=d=>{console.error(d)},initOnMounted:m}=s,S=(l?z:R)(typeof t=="function"?t():t),$=w(()=>T(e));if(!n)try{n=he("getDefaultStorage",()=>{var d;return(d=H)==null?void 0:d.localStorage})()}catch(d){k(d)}if(!n)return S;const A=T(t),W=nt(A),B=(i=s.serializer)!=null?i:st[W],{pause:x,resume:D}=Je(S,d=>E(d),{flush:c,deep:u,eventFilter:b});P($,()=>C(),{flush:c});let j=!1;const F=d=>{m&&!j||C(d)},V=d=>{m&&!j||L(d)};p&&o&&(n instanceof Storage?q(p,"storage",F,{passive:!0}):q(p,oe,V)),m?me(()=>{j=!0,C()}):C();function O(d,h){if(p){const M={key:$.value,oldValue:d,newValue:h,storageArea:n};p.dispatchEvent(n instanceof Storage?new StorageEvent("storage",M):new CustomEvent(oe,{detail:M}))}}function E(d){try{const h=n.getItem($.value);if(d==null)O(h,null),n.removeItem($.value);else{const M=B.write(d);h!==M&&(n.setItem($.value,M),O(h,M))}}catch(h){k(h)}}function N(d){const h=d?d.newValue:n.getItem($.value);if(h==null)return a&&A!=null&&n.setItem($.value,B.write(A)),A;if(!d&&r){const M=B.read(h);return typeof r=="function"?r(M,A):W==="object"&&!Array.isArray(M)?{...A,...M}:M}else return typeof h!="string"?h:B.read(h)}function C(d){if(!(d&&d.storageArea!==n)){if(d&&d.key==null){S.value=A;return}if(!(d&&d.key!==$.value)){x();try{const h=B.write(S.value);(d===void 0||d?.newValue!==h)&&(S.value=N(d))}catch(h){k(h)}finally{d?ae(D):D()}}}}function L(d){C(d.detail)}return S}const at="*,*::before,*::after{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}";function rt(e={}){const{selector:t="html",attribute:n="class",initialValue:s="auto",window:i=H,storage:c,storageKey:u="vueuse-color-scheme",listenToStorageChanges:o=!0,storageRef:a,emitAuto:r,disableTransition:l=!0}=e,p={auto:"",light:"light",dark:"dark",...e.modes||{}},b=tt({window:i}),k=w(()=>b.value?"dark":"light"),m=a||(u==null?de(s):ot(u,s,c,{window:i,listenToStorageChanges:o})),S=w(()=>m.value==="auto"?k.value:m.value),$=he("updateHTMLAttrs",(x,D,j)=>{const F=typeof x=="string"?i?.document.querySelector(x):pe(x);if(!F)return;const V=new Set,O=new Set;let E=null;if(D==="class"){const C=j.split(/\s/g);Object.values(p).flatMap(L=>(L||"").split(/\s/g)).filter(Boolean).forEach(L=>{C.includes(L)?V.add(L):O.add(L)})}else E={key:D,value:j};if(V.size===0&&O.size===0&&E===null)return;let N;l&&(N=i.document.createElement("style"),N.appendChild(document.createTextNode(at)),i.document.head.appendChild(N));for(const C of V)F.classList.add(C);for(const C of O)F.classList.remove(C);E&&F.setAttribute(E.key,E.value),l&&(i.getComputedStyle(N).opacity,document.head.removeChild(N))});function A(x){var D;$(t,n,(D=p[x])!=null?D:x)}function W(x){e.onChanged?e.onChanged(x,A):A(x)}P(S,W,{flush:"post",immediate:!0}),me(()=>W(S.value));const B=w({get(){return r?m.value:S.value},set(x){m.value=x}});return Object.assign(B,{store:m,system:k,state:S})}function it(e={}){const{valueDark:t="dark",valueLight:n=""}=e,s=rt({...e,onChanged:(u,o)=>{var a;e.onChanged?(a=e.onChanged)==null||a.call(e,u==="dark",o,u):o(u)},modes:{dark:t,light:n}}),i=w(()=>s.system.value);return w({get(){return s.value==="dark"},set(u){const o=u?"dark":"light";i.value===o?s.value="auto":s.value=o}})}const lt={class:"bg-white dark:bg-gray-800 border-b-2 border-dark-900 dark:border-gray-700"},ct={class:"container mx-auto px-4 py-4"},ut={class:"flex items-center justify-between"},dt={class:"flex items-center space-x-6"},ft={class:"flex items-center space-x-3 border-l-2 border-dark-900 dark:border-gray-600 pl-3"},mt={key:0,class:"text-sm text-dark-900 dark:text-gray-400 font-medium"},pt=["aria-label"],ht={key:0,xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},vt={key:1,xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},gt=J({__name:"AppHeader",setup(e){const t=it(),n=Ge(t),s=Ae(),i=[{name:"home",path:"/",label:"Home"},{name:"chat",path:"/chat",label:"Chat"},{name:"images",path:"/images",label:"Images"},{name:"admin",path:"/admin",label:"Admin"}],c=w(()=>i.filter(u=>!(u.name==="admin"&&!s.isAdmin())));return(u,o)=>{const a=ve;return g(),y("header",lt,[f("nav",ct,[f("div",ut,[I(a,{to:"/",class:"text-2xl font-bold text-dark-900 dark:text-primary-500"},{default:Z(()=>[...o[2]||(o[2]=[ne(" HIKEathon X Citizen ",-1)])]),_:1}),f("div",dt,[(g(!0),y(ie,null,le(c.value,r=>(g(),ce(a,{key:r.path,to:r.path,"data-testid":`nav-${r.name.toLowerCase()}`,class:"text-dark-900 dark:text-gray-300 hover:text-primary-500 dark:hover:text-primary-400 transition-colors font-medium"},{default:Z(()=>[ne(_(r.label),1)]),_:2},1032,["to","data-testid"]))),128)),f("div",ft,[v(s).isAuthenticated?(g(),y("span",mt,_(v(s).teamName),1)):Y("",!0),f("button",{onClick:o[0]||(o[0]=r=>v(n)()),"data-testid":"theme-toggle",class:"p-2 rounded-lg bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors text-dark-900 dark:text-gray-300","aria-label":v(t)?"Switch to light mode":"Switch to dark mode"},[v(t)?(g(),y("svg",ht,[...o[3]||(o[3]=[f("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"},null,-1)])])):(g(),y("svg",vt,[...o[4]||(o[4]=[f("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"},null,-1)])]))],8,pt),v(s).isAuthenticated?(g(),y("button",{key:1,onClick:o[1]||(o[1]=r=>v(s).logout()),"data-testid":"logout-button",class:"p-2 rounded-lg bg-dark-900 hover:bg-gray-800 dark:bg-primary-500 dark:hover:bg-primary-600 text-white dark:text-dark-900 transition-colors text-sm font-medium"}," Logout ")):Y("",!0)])])])])])}}}),_t=Te("broadcasts",()=>{const e=R([]),t=w(()=>e.value.filter(a=>!a.read).length),n=w(()=>e.value[0]),s=a=>{e.value.unshift({...a,read:!1}),e.value.length>100&&(e.value=e.value.slice(0,100))},i=a=>{const r=e.value.find(l=>l.id===a);r&&(r.read=!0)},c=()=>{e.value.forEach(a=>a.read=!0)},u=()=>{e.value=[]},o=a=>{const r=e.value.findIndex(l=>l.id===a);r!==-1&&e.value.splice(r,1)};return{broadcasts:ee(e),unreadCount:t,latestBroadcast:n,addBroadcast:s,markAsRead:i,markAllAsRead:c,clearBroadcasts:u,removeBroadcast:o}}),yt=["data-testid"],xt={class:"flex items-start justify-between"},wt={class:"flex-1"},bt=["innerHTML"],kt={class:"mt-1 flex items-center gap-2 text-xs opacity-75"},St={key:0},Ct=["onClick"],Mt=J({__name:"BroadcastBanner",setup(e){const t=_t(),{broadcasts:n}=ue(),s=R([]),i=R(new Set);P(n,a=>{const r=a.filter(l=>!i.value.has(l.id));s.value=r.slice(0,3),r.forEach(l=>{t.addBroadcast(l),l.type!=="error"&&setTimeout(()=>{o(l.id)},8e3)})});const c=a=>{switch(a){case"success":return"bg-green-500/90 text-white";case"warning":return"bg-yellow-500/90 text-white";case"error":return"bg-red-500/90 text-white";default:return"bg-blue-500/90 text-white"}},u=a=>{const r=new Date(a),p=new Date().getTime()-r.getTime();if(p<6e4)return"Just now";if(p<36e5){const b=Math.floor(p/6e4);return`${b} minute${b>1?"s":""} ago`}else return r.toLocaleTimeString()},o=a=>{i.value.add(a),s.value=s.value.filter(r=>r.id!==a),t.markAsRead(a)};return(a,r)=>(g(),ce(Ce,{name:"broadcast",tag:"div",class:"fixed top-16 right-4 z-50 space-y-2 max-w-md"},{default:Z(()=>[(g(!0),y(ie,null,le(s.value,l=>(g(),y("div",{key:l.id,"data-testid":`broadcast-banner-${l.id}`,class:Se(["p-4 rounded-lg shadow-lg backdrop-blur-sm animate-slide-in",c(l.type)])},[f("div",xt,[f("div",wt,[f("p",{class:"text-sm font-medium",innerHTML:v(Be)(l.message)},null,8,bt),f("div",kt,[l.from?(g(),y("span",St,"From: "+_(l.from),1)):Y("",!0),f("span",null,_(u(l.timestamp)),1)])]),f("button",{onClick:p=>o(l.id),class:"ml-4 text-current opacity-50 hover:opacity-100 transition-opacity"},[...r[0]||(r[0]=[f("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[f("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])],8,Ct)])],10,yt))),128))]),_:1}))}}),$t=De(Mt,[["__scopeId","data-v-ac24e212"]]),At={key:0,class:"w-full bg-dark-900 text-center py-6 md:py-8"},Tt={class:"container mx-auto px-4"},Dt={class:"text-xl md:text-2xl font-bold mb-4 text-primary-500 uppercase"},Bt={key:0,class:"flex justify-center gap-4 md:gap-8"},Et={class:"flex flex-col items-center"},Nt={class:"text-4xl md:text-5xl font-bold text-primary-500"},Lt={class:"text-sm md:text-base opacity-90 mt-1 text-gray-300"},jt={class:"flex flex-col items-center"},Ft={class:"text-4xl md:text-5xl font-bold text-primary-500"},Ot={class:"text-sm md:text-base opacity-90 mt-1 text-gray-300"},zt={class:"flex flex-col items-center"},Rt={class:"text-4xl md:text-5xl font-bold text-primary-500"},Wt={class:"text-sm md:text-base opacity-90 mt-1 text-gray-300"},Vt={class:"flex flex-col items-center"},It={class:"text-4xl md:text-5xl font-bold text-primary-500"},Ht={class:"text-sm md:text-base opacity-90 mt-1 text-gray-300"},Pt={key:1,class:"text-2xl md:text-3xl font-bold animate-pulse text-primary-500"},Jt=J({__name:"Countdown",setup(e){const t=Ne(),n=Le(),s=R(Date.now());let i=null;const c=w(()=>{const u=s.value;if(!t.currentCountdown)return{days:0,hours:0,minutes:0,seconds:0,total:0,isPast:!1};const a=new Date(t.currentCountdown.deadline).getTime()-u,r=a<0,l=Math.abs(a);return{days:Math.floor(l/(1e3*60*60*24)),hours:Math.floor(l%(1e3*60*60*24)/(1e3*60*60)),minutes:Math.floor(l%(1e3*60*60)/(1e3*60)),seconds:Math.floor(l%(1e3*60)/1e3),total:a,isPast:r}});return Q(()=>{i=Ee(()=>{s.value=Date.now()},1e3)}),Me(()=>{i&&clearInterval(i)}),(u,o)=>v(t).isVisible?(g(),y("div",At,[f("div",Tt,[f("h2",Dt,_(v(t).currentCountdown?.title),1),c.value.isPast?(g(),y("div",Pt," ðŸŽ‰ Deadline Reached! ðŸŽ‰ ")):(g(),y("div",Bt,[f("div",Et,[f("div",Nt,_(String(c.value.days).padStart(2,"0")),1),f("div",Lt,_(v(n).t("days")),1)]),f("div",jt,[f("div",Ft,_(String(c.value.hours).padStart(2,"0")),1),f("div",Ot,_(v(n).t("hours")),1)]),f("div",zt,[f("div",Rt,_(String(c.value.minutes).padStart(2,"0")),1),f("div",Wt,_(v(n).t("minutes")),1)]),f("div",Vt,[f("div",It,_(String(c.value.seconds).padStart(2,"0")),1),f("div",Ht,_(v(n).t("seconds")),1)])]))])])):Y("",!0)}}),Gt={class:"bg-dark-900 dark:bg-gray-800 border-t-2 border-primary-500 dark:border-gray-700"},Kt={class:"container mx-auto px-4 py-6"},Yt={class:"text-center text-sm text-white dark:text-gray-300 font-medium"},Qt=J({__name:"AppFooter",setup(e){const t=new Date().getFullYear();return(n,s)=>(g(),y("footer",Gt,[f("div",Kt,[f("div",Yt,[f("p",null,"Â© "+_(v(t))+" HIKEathon. All rights reserved.",1)])])]))}}),Ut={class:"min-h-screen flex flex-col"},Xt={class:"flex-1 flex flex-col container mx-auto overflow-hidden"},ln=J({__name:"default",setup(e){const{initializeRealtime:t}=ue();return Q(()=>{t()}),(n,s)=>{const i=gt,c=$t,u=Jt,o=Qt;return g(),y("div",Ut,[I(i),I(c),f("main",Xt,[$e(n.$slots,"default")]),I(u),I(o)])}}});export{ln as default};
