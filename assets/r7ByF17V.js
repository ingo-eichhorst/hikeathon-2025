import{_ as W}from"./1BODBPCJ.js";import{u as B}from"./BNgioekW.js";import{a as D,u as V}from"./t7Q-RBxK.js";import{n as F,p as $,_ as G,d as Q,u as x}from"#entry";import{l as T,O as n,H as r,U as e,V as p,d as P,m as H,$ as I,F as S,Z as N,G as U,Y as k,X as _,W as M,u as g,q as E,J as w,I as j}from"./BXsWsSdj.js";import{useNotificationService as C}from"./D3kIsJjp.js";import{u as q}from"./Bm9-FWAX.js";import{u as J}from"./f0siJDNu.js";import"./CdQP9W9V.js";import"./DOa35t5X.js";import"./CGs5VtEq.js";const K={class:"w-full flex justify-center mb-4 rounded"},O=["src","alt"],X={class:"text-base font-bold text-dark-900 dark:text-white mb-2 text-center uppercase"},Y={class:"text-sm text-dark-900 dark:text-gray-300 text-center flex-grow"},Z=T({__name:"QuickStartCard",props:{gpt:{},imageSrc:{}},setup(a){const s=a,t=B(),o=D(),u=V(),l=async()=>{await t.selectSystemPrompt(s.gpt.key);const m=u.createSession("",s.gpt.key,o.currentModel,o.temperature,o.maxTokens,o.topP);o.setCurrentSessionId(m),o.clearMessages(),await F("/chat")};return(m,b)=>(r(),n("div",{onClick:l,class:"flex flex-col items-center p-6 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-black hover:shadow-lg transition-shadow duration-200 cursor-pointer"},[e("div",K,[e("img",{src:a.imageSrc,alt:a.gpt.name,class:"h-48 w-full object-cover rounded"},null,8,O)]),e("h3",X,p(a.gpt.name),1),e("p",Y,p(a.gpt.description),1)]))}}),tt=$("/arrow-left.png"),et=$("/arrow-right.png"),st={class:"w-full px-4"},at={class:"relative flex items-center justify-center gap-4"},ot={class:"flex justify-center gap-2 mt-6 md:hidden"},rt=["onClick","aria-label"],nt=T({__name:"QuickStartCarousel",setup(a){const s=B(),t=P(null),o=P(0),u=H(()=>[s.allGPTs["hikeathon-coach"],s.allGPTs["phase1-understanding-coach"],s.allGPTs["phase2-observation-coach"],s.allGPTs["phase3-synthesis-architect"],s.allGPTs["phase4-ideation-coach"],s.allGPTs["phase5-prototyping-maker"],s.allGPTs["phase6-testing-navigator"],s.allGPTs["prompt-companion"]]),l=()=>{if(t.value){const f=t.value.children[0]?.clientWidth||0,h=16;t.value.scrollLeft-=f+h}},m=()=>{if(t.value){const f=t.value.children[0]?.clientWidth||0,h=16;t.value.scrollLeft+=f+h}},b=f=>{if(t.value){const h=t.value.children[0]?.clientWidth||0,y=16;t.value.scrollLeft=f*(h+y),o.value=f}};return I(()=>{t.value&&t.value.addEventListener("scroll",()=>{if(t.value){const f=t.value.children[0]?.clientWidth||0,h=16,y=t.value.scrollLeft;o.value=Math.round(y/(f+h))}})}),(f,h)=>{const y=Z;return r(),n("div",st,[h[2]||(h[2]=e("h2",{class:"text-2xl md:text-3xl font-bold mb-8 text-dark-900 dark:text-white uppercase text-center"}," Quick Actions ",-1)),e("div",at,[e("button",{onClick:l,class:"hidden md:flex flex-shrink-0 items-center justify-center h-12 w-12 rounded-full bg-dark-100 dark:bg-gray-700 hover:bg-primary-500 transition-colors duration-200","aria-label":"Previous"},[...h[0]||(h[0]=[e("img",{src:tt,alt:"Previous",class:"h-6 w-6 object-contain"},null,-1)])]),e("div",{ref_key:"carouselContainer",ref:t,class:"flex gap-4 overflow-x-auto scroll-smooth flex-1",style:{scrollBehavior:"smooth"}},[(r(!0),n(S,null,N(u.value,c=>(r(),U(y,{key:c.key,gpt:c,"image-src":`/quick-start/${c.key}.png`,class:"flex-shrink-0 w-full md:w-1/3"},null,8,["gpt","image-src"]))),128))],512),e("button",{onClick:m,class:"hidden md:flex flex-shrink-0 items-center justify-center h-12 w-12 rounded-full bg-dark-100 dark:bg-gray-700 hover:bg-primary-500 transition-colors duration-200","aria-label":"Next"},[...h[1]||(h[1]=[e("img",{src:et,alt:"Next",class:"h-6 w-6 object-contain"},null,-1)])])]),e("div",ot,[(r(!0),n(S,null,N(u.value,(c,i)=>(r(),n("button",{key:i,onClick:d=>b(i),class:k(["h-2 rounded-full transition-all duration-200",o.value===i?"bg-primary-500 w-6":"bg-gray-300 dark:bg-gray-600 w-2"]),"aria-label":`Go to slide ${i+1}`},null,10,rt))),128))])])}}}),it=G(nt,[["__scopeId","data-v-827bbedd"]]),R=Q("notifications",{state:()=>({notifications:[],loading:!1,error:null,hasMore:!0,currentPage:0,pageSize:25,unreadCount:0}),getters:{sortedNotifications:a=>[...a.notifications].sort((s,t)=>new Date(t.created_at).getTime()-new Date(s.created_at).getTime()),unreadNotifications:a=>a.notifications.filter(s=>!s.is_read),readNotifications:a=>a.notifications.filter(s=>s.is_read),notificationsByType:a=>s=>a.notifications.filter(t=>t.type===s),recentNotifications:a=>{const t=new Date().getTime();return a.notifications.filter(o=>{const u=new Date(o.created_at).getTime();return t-u<72e5})}},actions:{async fetchNotifications(a=0){const t=x().teamCode;if(!t){this.error="No team authenticated";return}this.loading=!0,this.error=null;try{const o=C(),u=a*this.pageSize,l=await o.getNotificationsForTeam(t,this.pageSize,u);a===0?this.notifications=l:this.notifications.push(...l),this.currentPage=a,this.hasMore=l.length===this.pageSize,await this.updateUnreadCount()}catch(o){console.error("Failed to fetch notifications:",o),this.error=o.message}finally{this.loading=!1}},async loadMore(){!this.hasMore||this.loading||await this.fetchNotifications(this.currentPage+1)},async refresh(){await this.fetchNotifications(0)},async markAsRead(a){const t=x().teamCode;if(t)try{await C().markAsRead(a,t);const u=this.notifications.find(l=>l.id===a);u&&(u.is_read=!0,this.unreadCount=Math.max(0,this.unreadCount-1))}catch(o){console.error("Failed to mark notification as read:",o)}},async markAllAsRead(){const s=x().teamCode;if(s)try{await C().markAllAsRead(s),this.notifications.forEach(o=>o.is_read=!0),this.unreadCount=0}catch(t){console.error("Failed to mark all as read:",t)}},async updateUnreadCount(){const s=x().teamCode;if(s)try{const t=C();this.unreadCount=await t.getUnreadCount(s)}catch(t){console.error("Failed to update unread count:",t)}},addNotification(a){this.notifications.some(t=>t.id===a.id)||(this.notifications.unshift(a),a.is_read||this.unreadCount++)},clearNotifications(){this.notifications=[],this.currentPage=0,this.hasMore=!0,this.unreadCount=0},async initialize(){await this.fetchNotifications(0)}},persist:!1}),lt={class:"notification-list"},ct={key:0,class:"flex items-center justify-between mb-4"},dt={class:"text-lg font-semibold"},ut={key:0,class:"ml-2 text-sm font-normal text-gray-500"},ht={key:1,class:"space-y-3"},ft={key:2,class:"p-4 bg-red-100 dark:bg-red-900 text-red-700 dark:text-red-300 rounded-lg"},gt={key:3,class:"text-center py-12"},mt=["onClick"],pt={class:"flex items-start gap-3"},yt={class:"flex-shrink-0 mt-1"},_t={class:"w-4 h-4 text-white",fill:"currentColor",viewBox:"0 0 20 20"},bt={key:0,"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"},kt={key:1,"fill-rule":"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z","clip-rule":"evenodd"},xt={key:2,"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z","clip-rule":"evenodd"},vt={key:3,"fill-rule":"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z","clip-rule":"evenodd"},wt={class:"flex-1 min-w-0"},Ct={class:"mt-1 flex items-center gap-3 text-xs text-gray-500 dark:text-gray-400"},St={key:0,class:"flex items-center gap-1"},Nt={key:1,class:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200"},Mt={class:"flex-shrink-0"},$t={key:5,class:"mt-4 text-center"},Tt=["disabled"],Lt=T({__name:"NotificationList",props:{limit:{default:0},showHeader:{type:Boolean,default:!0},showLoadMore:{type:Boolean,default:!0},scrollable:{type:Boolean,default:!0},compact:{type:Boolean,default:!1}},setup(a){const s=a,t=R(),o=H(()=>{const c=t.recentNotifications;return s.limit>0?c.slice(0,s.limit):c}),u=c=>{const i=[];return c.is_read?i.push("bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700"):i.push("bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-800"),i.push("hover:shadow-md"),i.join(" ")},l=c=>{switch(c){case"success":return"bg-green-500";case"warning":return"bg-yellow-500";case"error":return"bg-red-500";default:return"bg-blue-500"}},m=c=>{switch(c){case"success":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200";case"warning":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200";case"error":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200";default:return"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200"}},b=c=>{const i=new Date(c),v=new Date().getTime()-i.getTime(),L=Math.floor(v/6e4),z=Math.floor(v/36e5),A=Math.floor(v/864e5);return L<1?"Just now":L<60?`${L}m ago`:z<24?`${z}h ago`:A<7?`${A}d ago`:i.toLocaleDateString()},f=async c=>{c.is_read||await t.markAsRead(c.id)},h=async()=>{await t.markAllAsRead()},y=async()=>{await t.loadMore()};return(c,i)=>(r(),n("div",lt,[a.showHeader?(r(),n("div",ct,[e("h3",dt,[i[0]||(i[0]=M(" Notifications ",-1)),g(t).unreadCount>0?(r(),n("span",ut," ("+p(g(t).unreadCount)+" unread) ",1)):_("",!0)]),g(t).unreadCount>0?(r(),n("button",{key:0,onClick:h,class:"text-sm text-blue-600 hover:text-blue-700 dark:text-blue-400"}," Mark all as read ")):_("",!0)])):_("",!0),g(t).loading&&g(t).notifications.length===0?(r(),n("div",ht,[(r(),n(S,null,N(3,d=>e("div",{key:d,class:"animate-pulse"},[...i[1]||(i[1]=[e("div",{class:"h-20 bg-gray-200 dark:bg-gray-700 rounded-lg"},null,-1)])])),64))])):g(t).error?(r(),n("div",ft,p(g(t).error),1)):o.value.length===0?(r(),n("div",gt,[...i[2]||(i[2]=[e("svg",{class:"w-16 h-16 mx-auto text-gray-400 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})],-1),e("p",{class:"text-gray-500 dark:text-gray-400"},"No recent notifications",-1)])])):(r(),n("div",{key:4,class:k(["space-y-2",{"max-h-96 overflow-y-auto":a.scrollable}])},[(r(!0),n(S,null,N(o.value,d=>(r(),n("div",{key:d.id,onClick:v=>f(d),class:k(["notification-item p-4 rounded-lg border transition-all cursor-pointer",u(d)])},[e("div",pt,[e("div",yt,[e("div",{class:k(["w-8 h-8 rounded-full flex items-center justify-center",l(d.type)])},[(r(),n("svg",_t,[d.type==="success"?(r(),n("path",bt)):d.type==="warning"?(r(),n("path",kt)):d.type==="error"?(r(),n("path",xt)):(r(),n("path",vt))]))],2)]),e("div",wt,[e("p",{class:k(["text-sm text-gray-900 dark:text-gray-100",{"font-semibold":!d.is_read}])},p(d.message),3),e("div",Ct,[d.sender?(r(),n("span",St,[i[3]||(i[3]=e("svg",{class:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z","clip-rule":"evenodd"})],-1)),M(" "+p(d.sender),1)])):_("",!0),e("span",null,p(b(d.created_at)),1),d.is_read?_("",!0):(r(),n("span",Nt," New "))])]),e("div",Mt,[e("span",{class:k(["inline-flex items-center px-2 py-1 rounded text-xs font-medium capitalize",m(d.type)])},p(d.type),3)])])],10,mt))),128))],2)),a.showLoadMore&&g(t).hasMore?(r(),n("div",$t,[e("button",{onClick:y,disabled:g(t).loading,class:"px-4 py-2 text-sm bg-gray-200 hover:bg-gray-300 dark:bg-gray-700 dark:hover:bg-gray-600 rounded-lg disabled:opacity-50"},p(g(t).loading?"Loading...":"Load More"),9,Tt)])):_("",!0)]))}}),zt=G(Lt,[["__scopeId","data-v-a45ce6a8"]]),At=$("/text_gen.png"),Pt=$("/image_gen.png"),jt={class:"home-page space-y-8"},Bt={class:"py-12 px-4"},Gt={class:"grid md:grid-cols-2 gap-8"},Ht={class:"flex flex-col items-center p-8 border-2 border-dark-900 dark:border-gray-700 rounded-lg bg-white dark:bg-black hover:shadow-lg transition-shadow"},It={class:"flex flex-col items-center p-8 border-2 border-dark-900 dark:border-gray-700 rounded-lg bg-white dark:bg-black hover:shadow-lg transition-shadow"},Rt={class:"py-12"},Wt={key:0,class:"card"},Yt=T({__name:"index",setup(a){const s=x(),t=R(),o=q();return I(async()=>{await o.fetchActiveCountdown(),s.isAuthenticated&&await t.initialize()}),E(()=>s.isAuthenticated,async u=>{u?await t.initialize():t.clearNotifications()}),J({title:"Home - HIKEathon 2025"}),(u,l)=>{const m=W,b=it,f=zt;return r(),n("div",jt,[e("section",Bt,[e("div",Gt,[e("div",Ht,[l[1]||(l[1]=e("div",{class:"w-full flex justify-center mb-6"},[e("img",{src:At,alt:"Start Chat",class:"h-80 object-contain rounded-lg"})],-1)),w(m,{to:"/chat",class:"btn btn-primary w-full"},{default:j(()=>[...l[0]||(l[0]=[M(" Start Chat ",-1)])]),_:1})]),e("div",It,[l[3]||(l[3]=e("div",{class:"w-full flex justify-center mb-6"},[e("img",{src:Pt,alt:"Generate Images",class:"h-80 object-contain rounded-lg"})],-1)),w(m,{to:"/images",class:"btn btn-primary w-full"},{default:j(()=>[...l[2]||(l[2]=[M(" Generate Images ",-1)])]),_:1})])])]),e("section",Rt,[w(b)]),g(s).isAuthenticated?(r(),n("section",Wt,[w(f,{"show-header":!0,"show-load-more":!0,scrollable:!0})])):_("",!0)])}}});export{Yt as default};
