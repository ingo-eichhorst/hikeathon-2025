import{l as x,d as n,$ as v,O as l,U as e,_ as b,X as m,a0 as y,a3 as f,V as g,W as h,H as d}from"./BXsWsSdj.js";import{u as k,b as w}from"#entry";import{u as _}from"./f0siJDNu.js";import"./CdQP9W9V.js";const C={class:"min-h-screen flex items-center justify-center bg-gray-100 dark:bg-gray-900 px-4"},E={class:"max-w-md w-full"},V={class:"card"},B=["disabled"],H={key:0,class:"mt-1 text-sm text-amber-600 dark:text-amber-400"},I={key:0,"data-testid":"error-message",class:"p-3 bg-red-100 dark:bg-red-900/20 border border-red-400 dark:border-red-600 text-red-700 dark:text-red-400 rounded-lg text-sm"},T=["disabled"],A={key:0},L={key:1,class:"flex items-center"},z=x({__name:"login",setup(M){const i=k(),u=w(),a=n(""),o=n(!1),r=n(""),p=async()=>{if(a.value.length!==8){r.value="Team code must be exactly 8 characters";return}o.value=!0,r.value="";try{if(await i.login(a.value)){const t=u.currentRoute.value.query.redirect||"/";await u.push(t)}else r.value=i.error||"Invalid team code"}catch(s){r.value=s.message||"An error occurred during login"}finally{o.value=!1}};return v(()=>{const s=document.getElementById("teamCode");s&&s.focus()}),_({title:"Login - HIKEathon 2025"}),(s,t)=>(d(),l("div",C,[e("div",E,[e("div",V,[t[4]||(t[4]=e("div",{class:"text-center mb-8"},[e("h1",{class:"text-3xl font-bold text-gray-900 dark:text-white"}," HIKEathon 2025 "),e("p",{class:"mt-2 text-gray-600 dark:text-gray-400"}," Enter your team code to access the platform ")],-1)),e("form",{onSubmit:b(p,["prevent"]),class:"space-y-6"},[e("div",null,[t[2]||(t[2]=e("label",{for:"teamCode",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Team Code ",-1)),y(e("input",{id:"teamCode","onUpdate:modelValue":t[0]||(t[0]=c=>a.value=c),type:"text",maxlength:"8","data-testid":"team-code-input",placeholder:"Enter 8-character code",class:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white uppercase",disabled:o.value,onInput:t[1]||(t[1]=c=>a.value=a.value.toUpperCase())},null,40,B),[[f,a.value]]),a.value.length>0&&a.value.length<8?(d(),l("p",H," Code must be exactly 8 characters ("+g(8-a.value.length)+" more needed) ",1)):m("",!0)]),r.value?(d(),l("div",I,g(r.value),1)):m("",!0),e("button",{type:"submit","data-testid":"login-button",disabled:a.value.length!==8||o.value,class:"w-full btn btn-primary disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center"},[o.value?(d(),l("span",L,[...t[3]||(t[3]=[e("svg",{class:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),h(" Authenticating... ",-1)])])):(d(),l("span",A,"Login to Platform"))],8,T)],32)]),t[5]||(t[5]=e("div",{class:"mt-4 text-center text-sm text-gray-600 dark:text-gray-400"},[e("p",null,"Your session will remain active for 48 hours")],-1))])]))}});export{z as default};
